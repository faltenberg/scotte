8bit, RISC, 1KB RAM+ROM
memory-mapped IO

   [....|....] r0
   [....|....] r1
   [....|....] r2
   [....|....] r3

      [h|vcsz] fr
[..|....|....] npc
[00|....|....] pc
[01|....|....] sp
[..]           ix

Memory Access: addr = pc | sp | (ix,rb)


0000 00 00:  nop            ->  do nothing
0000 11 11:  halt           ->  ignore clock
0001 ra xx:  data ra, imm8  ->  ra = [pc+1]; pc += 2
0010 ra rb:  ldr  ra, [rb]  ->  ra = [(ix,rb)]
0011 ra rb:  str  ra, [rb]  ->  [(ix,rb)] = ra
0100 ra rb:  jalr ra        ->  npc = rb; ra = pc+1
0101  cond:  br   imm8      ->  npc = test(cond,flags) ? [pc+1] : pc+2
0110 xx nn:  six  nn        ->  ix = nn
0111 ra x0:  pop  ra        ->  ra = [sp--]
0111 ra x1:  push ra        ->  [++sp] = ra

1000 ra rb:  add  ra, rb    ->  ra = ra + rb  [vcsz]
1001 ra rb:  sub  ra, rb    ->  ra = ra - rb  [vcsz]
1010 ra rb:  shl  ra, rb    ->  ra = rb << 1  [0csz]
1011 ra rb:  shr  ra, rb    ->  ra = rb >> 1  [0csz]
1100 ra rb:  and  ra, rb    ->  ra = ra & rb  [00sz]
1101 ra rb:  orr  ra, rb    ->  ra = ra | rb  [00sz]
1110 ra rb:  xor  ra, rb    ->  ra = ra ^ rb  [00sz]
1111 ra rb:  cmp  ra, rb    ->       ra - rb  [vcsz]

Branch:
br
bzs
bss
bcs
bvs

beq
blt
bltu
bge
bgeu


sp: 0xff  push  sp: 0x00   overflow
sp: 0x00  pop   sp: 0xff   overflow




reset:
sp: 0x00  empty

push:
sp = sp-1
ram[sp] = rx
if sp == 0x00: overflow

pop:
if sp == 0x00: empty
rx = ram[sp]
sp = sp+1
